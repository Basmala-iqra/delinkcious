version: 2
jobs:
  build:
    docker:
    - image: circleci/golang:1.11
    - image: circleci/postgres:9.6-alpine
      environment: # environment variables for primary container
        POSTGRES_USER: postgres
    working_directory: /go/src/github.com/the-gigi/delinkcious
    steps:
    - checkout
    - run: echo "Getting all dependencies..."
    - run: go get -v ./...
    - run: go get -u github.com/onsi/ginkgo/ginkgo
    - run: go get -u github.com/onsi/gomega/...
    - run: echo "Test social graph manager..."
    - run: go test -v github.com/the-gigi/delinkcious/pkg/social_graph_manager
    - run: echo "Done."



